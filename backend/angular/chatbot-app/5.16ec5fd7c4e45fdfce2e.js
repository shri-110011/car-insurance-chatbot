(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{jkDv:function(t,e,n){"use strict";n.r(e),n.d(e,"AdminModule",function(){return H});var i=n("ofXK"),a=n("tyNb"),c=n("lJxs"),s=n("fXoL"),b=n("AytR"),o=n("tk/3");let r=(()=>{class t{constructor(t){this.http=t,this._getChatDetailApi=b.a.apiURL+"chat/getChatDetails",this._getChatApi=b.a.apiURL+"chat/getUserChats",this._getInsuranceDetailApi=b.a.apiURL+"car-insurance/getCarInsuranceDetails"}getChatDetail(){return this.http.get(this._getChatDetailApi,{})}getChat(t){return this.http.post(this._getChatApi,{chatCount:t})}getInsuranceDetail(){return this.http.get(this._getInsuranceDetailApi)}}return t.\u0275fac=function(e){return new(e||t)(s.Nb(o.b))},t.\u0275prov=s.Cb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var l=n("zy28");function h(t,e){if(1&t&&(s.Jb(0,"tr"),s.Jb(1,"td"),s.fc(2),s.Ib(),s.Jb(3,"td"),s.fc(4),s.Ib(),s.Jb(5,"td"),s.fc(6),s.Ib(),s.Jb(7,"td"),s.fc(8),s.Ib(),s.Ib()),2&t){const t=e.$implicit,n=e.index,i=s.Sb();s.wb(2),s.gc(n+1),s.wb(2),s.gc(t.insurancePlan),s.wb(2),s.gc(t.insuranceCount),s.wb(2),s.gc(i.getChatPercentage(t.insuranceCount))}}function d(t,e){1&t&&(s.Jb(0,"div",7),s.Hb(1,"app-loading-spinner"),s.Ib())}function g(t,e){1&t&&(s.Jb(0,"h3",8),s.fc(1," There are no insurance details! "),s.Ib())}let u=(()=>{class t{constructor(t){this.adminHelperService=t,this.insuranceDetails=[],this.totalPolicyHolders=0,this.isLoading=!0}ngOnInit(){this.getInsuranceDetailSub=this.adminHelperService.getInsuranceDetail().pipe(Object(c.a)(t=>(t.forEach(t=>{this.totalPolicyHolders+=t.insuranceCount}),t))).subscribe(t=>{console.log(t),this.insuranceDetails=t,this.isLoading=!1})}getChatPercentage(t){return(100*t/this.totalPolicyHolders).toFixed(2)}ngOnDestroy(){this.getInsuranceDetailSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(s.Gb(r))},t.\u0275cmp=s.Ab({type:t,selectors:[["app-car-insurance-details"]],decls:20,vars:4,consts:[[1,"row"],[1,"col-md-6","col-md-offset-1","table-responsive",2,"height","200px","border","1px solid black"],[1,"table","table-border"],[4,"ngFor","ngForOf"],["class","spinner",4,"ngIf"],["style","text-align: center",4,"ngIf"],[1,"col-md-3","col-md-offset-1"],[1,"spinner"],[2,"text-align","center"]],template:function(t,e){1&t&&(s.Jb(0,"div",0),s.Jb(1,"div",1),s.Jb(2,"table",2),s.Jb(3,"thead"),s.Jb(4,"tr"),s.Jb(5,"th"),s.fc(6,"S.No"),s.Ib(),s.Jb(7,"th"),s.fc(8,"Type of Insurance"),s.Ib(),s.Jb(9,"th"),s.fc(10,"No of policy holders"),s.Ib(),s.Jb(11,"th"),s.fc(12,"Percentage %"),s.Ib(),s.Ib(),s.Ib(),s.Jb(13,"tbody"),s.dc(14,h,9,4,"tr",3),s.Ib(),s.Ib(),s.dc(15,d,2,0,"div",4),s.dc(16,g,2,0,"h3",5),s.Ib(),s.Jb(17,"div",6),s.Jb(18,"h3"),s.fc(19),s.Ib(),s.Ib(),s.Ib()),2&t&&(s.wb(14),s.Tb("ngForOf",e.insuranceDetails),s.wb(1),s.Tb("ngIf",e.isLoading),s.wb(1),s.Tb("ngIf",!(e.insuranceDetails.length>0||e.isLoading)),s.wb(3),s.hc("Total policies applied: ",e.totalPolicyHolders,""))},directives:[i.h,i.i,l.a],styles:[""]}),t})();function f(t,e){if(1&t&&(s.Jb(0,"tr"),s.Jb(1,"td"),s.fc(2),s.Ib(),s.Jb(3,"td"),s.fc(4),s.Ib(),s.Jb(5,"td"),s.fc(6),s.Ib(),s.Jb(7,"td"),s.fc(8),s.Ib(),s.Ib()),2&t){const t=e.$implicit,n=e.index,i=s.Sb();s.wb(2),s.gc(n+1),s.wb(2),s.gc(t.chatIntent),s.wb(2),s.gc(t.chatCount),s.wb(2),s.gc(i.getChatPercentage(t.chatCount))}}function p(t,e){1&t&&(s.Jb(0,"div",7),s.Hb(1,"app-loading-spinner"),s.Ib())}function I(t,e){1&t&&(s.Jb(0,"h3",8),s.fc(1," There are no chat details! "),s.Ib())}let J=(()=>{class t{constructor(t){this.adminHelperService=t,this.totalChats=0,this.chatDetails=[],this.isLoading=!0}ngOnInit(){this.getChatDetailSub=this.adminHelperService.getChatDetail().pipe(Object(c.a)(t=>(t.forEach(t=>{this.totalChats+=t.chatCount}),t))).subscribe(t=>{console.log(t),this.chatDetails=t,this.isLoading=!1})}getChatPercentage(t){return(100*t/this.totalChats).toFixed(2)}ngOnDestroy(){this.getChatDetailSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(s.Gb(r))},t.\u0275cmp=s.Ab({type:t,selectors:[["app-chat-detail"]],decls:20,vars:4,consts:[[1,"row"],[1,"col-md-6","col-md-offset-1","table-responsive",2,"overflow-y","scroll","height","300px","border","1px solid black"],[1,"table","table-border"],[4,"ngFor","ngForOf"],["class","spinner",4,"ngIf"],["style","text-align: center",4,"ngIf"],[1,"col-md-3","col-md-offset-1"],[1,"spinner"],[2,"text-align","center"]],template:function(t,e){1&t&&(s.Jb(0,"div",0),s.Jb(1,"div",1),s.Jb(2,"table",2),s.Jb(3,"thead"),s.Jb(4,"tr"),s.Jb(5,"th"),s.fc(6,"S.No"),s.Ib(),s.Jb(7,"th"),s.fc(8,"Intent"),s.Ib(),s.Jb(9,"th"),s.fc(10,"No of Chats"),s.Ib(),s.Jb(11,"th"),s.fc(12,"Percentage %"),s.Ib(),s.Ib(),s.Ib(),s.Jb(13,"tbody"),s.dc(14,f,9,4,"tr",3),s.Ib(),s.Ib(),s.dc(15,p,2,0,"div",4),s.dc(16,I,2,0,"h3",5),s.Ib(),s.Jb(17,"div",6),s.Jb(18,"h3"),s.fc(19),s.Ib(),s.Ib(),s.Ib()),2&t&&(s.wb(14),s.Tb("ngForOf",e.chatDetails),s.wb(1),s.Tb("ngIf",e.isLoading),s.wb(1),s.Tb("ngIf",!(e.chatDetails.length>0||e.isLoading)),s.wb(3),s.hc("Total chats asked: ",e.totalChats,""))},directives:[i.h,i.i,l.a],styles:[""]}),t})();const v=["chatCount"];function m(t,e){if(1&t&&(s.Jb(0,"tr"),s.Jb(1,"td"),s.fc(2),s.Ib(),s.Jb(3,"td"),s.fc(4),s.Ib(),s.Jb(5,"td"),s.fc(6),s.Ib(),s.Jb(7,"td"),s.fc(8),s.Ib(),s.Ib()),2&t){const t=e.$implicit,n=e.index,i=s.Sb();s.wb(2),s.gc(n+1),s.wb(2),s.gc(t.chatMessage),s.wb(2),s.gc(t.chatIntent),s.wb(2),s.gc(i.getChatDate(t.chatDate))}}function w(t,e){1&t&&(s.Jb(0,"div",15),s.Hb(1,"app-loading-spinner"),s.Ib())}function C(t,e){1&t&&(s.Jb(0,"h3",16),s.fc(1," There are no chats! "),s.Ib())}let y=(()=>{class t{constructor(t){this.adminHelperService=t,this.isLoading=!0}ngOnInit(){this.chats=[]}ngAfterViewInit(){this.getChatSub=this.adminHelperService.getChat(+this.chatCount.nativeElement.value).subscribe(t=>{console.log(t),this.chats=t,this.isLoading=!1})}onGetChats(){console.log(typeof+this.chatCount.nativeElement.value),this.getChatSub=this.adminHelperService.getChat(+this.chatCount.nativeElement.value).subscribe(t=>{console.log(t),this.chats=t})}getChatDate(t){return new Date(t).toString().slice(0,33)}ngOnDestroy(){this.getChatSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(s.Gb(r))},t.\u0275cmp=s.Ab({type:t,selectors:[["app-chatlog"]],viewQuery:function(t,e){if(1&t&&s.ic(v,!0),2&t){let t;s.Wb(t=s.Rb())&&(e.chatCount=t.first)}},decls:33,vars:3,consts:[[1,"row"],[1,"col-md-9",2,"overflow-y","scroll","height","300px","border","1px solid black"],[1,"table","table-border"],[4,"ngFor","ngForOf"],["class","spinner",4,"ngIf"],["style","text-align: center",4,"ngIf"],[1,"col-md-3"],[1,"form-group"],["for",""],[1,"form-control"],["chatCount",""],["value","10"],["value","20"],["value","30"],[1,"btn","btn-primary",3,"click"],[1,"spinner"],[2,"text-align","center"]],template:function(t,e){1&t&&(s.Jb(0,"div",0),s.Jb(1,"div",1),s.Jb(2,"table",2),s.Jb(3,"thead"),s.Jb(4,"tr"),s.Jb(5,"th"),s.fc(6,"S.No"),s.Ib(),s.Jb(7,"th"),s.fc(8,"Chat Message"),s.Ib(),s.Jb(9,"th"),s.fc(10,"Chat Intent"),s.Ib(),s.Jb(11,"th"),s.fc(12,"Chat Date"),s.Ib(),s.Ib(),s.Ib(),s.Jb(13,"tbody"),s.dc(14,m,9,4,"tr",3),s.Ib(),s.Ib(),s.dc(15,w,2,0,"div",4),s.dc(16,C,2,0,"h3",5),s.Ib(),s.Jb(17,"div",6),s.Jb(18,"div",7),s.Jb(19,"label",8),s.fc(20,"Select the number of latest chats you want to see: "),s.Ib(),s.Jb(21,"select",9,10),s.Jb(23,"option",11),s.fc(24,"10"),s.Ib(),s.Jb(25,"option",12),s.fc(26,"20"),s.Ib(),s.Jb(27,"option",13),s.fc(28,"30"),s.Ib(),s.Ib(),s.Hb(29,"br"),s.Jb(30,"button",14),s.Qb("click",function(){return e.onGetChats()}),s.fc(31,"Get Chats"),s.Ib(),s.Hb(32,"br"),s.Ib(),s.Ib(),s.Ib()),2&t&&(s.wb(14),s.Tb("ngForOf",e.chats),s.wb(1),s.Tb("ngIf",e.isLoading),s.wb(1),s.Tb("ngIf",!(e.chats.length>0||e.isLoading)))},directives:[i.h,i.i,l.a],styles:[""]}),t})();var D=n("UKjp");const S=[{path:"",component:(()=>{class t{constructor(t,e){this.loginService=t,this.router=e,this.userName=""}ngOnInit(){this.loginService.getLoggedInUser().isAdmin?this.userName=this.loginService.getLoggedInUser().userName:this.router.navigate(["/home"])}}return t.\u0275fac=function(e){return new(e||t)(s.Gb(D.a),s.Gb(a.b))},t.\u0275cmp=s.Ab({type:t,selectors:[["app-dashboard"]],decls:17,vars:0,consts:[[1,"container-fluid"],[1,"row"],[1,"col-sm-4"],[1,"dropdown"],["data-toggle","dropdown",1,"btn","btn-primary","dropdown-toggle"],[1,"caret"],[1,"dropdown-menu"],["routerLink","chat-details"],["routerLink","insurance-details"],["routerLink","chatlog",1,"btn","btn-primary"]],template:function(t,e){1&t&&(s.Jb(0,"div",0),s.Jb(1,"div",1),s.Jb(2,"div",2),s.Jb(3,"div",3),s.Jb(4,"button",4),s.fc(5,"Statistics "),s.Hb(6,"span",5),s.Ib(),s.Jb(7,"ul",6),s.Jb(8,"li"),s.Jb(9,"a",7),s.fc(10,"View chat statistics"),s.Ib(),s.Ib(),s.Jb(11,"li"),s.Jb(12,"a",8),s.fc(13,"View insurance statistics"),s.Ib(),s.Ib(),s.Ib(),s.Jb(14,"button",9),s.fc(15,"Chatlog"),s.Ib(),s.Ib(),s.Ib(),s.Ib(),s.Ib(),s.Hb(16,"router-outlet"))},directives:[a.e,a.c,a.g],styles:["button[_ngcontent-%COMP%]{margin:5px}"]}),t})(),children:[{path:"chatlog",component:y},{path:"chat-details",component:J},{path:"insurance-details",component:u}]}];let L=(()=>{class t{}return t.\u0275mod=s.Eb({type:t}),t.\u0275inj=s.Db({factory:function(e){return new(e||t)},imports:[[a.f.forChild(S)],a.f]}),t})();var x=n("PCNd");let H=(()=>{class t{}return t.\u0275mod=s.Eb({type:t}),t.\u0275inj=s.Db({factory:function(e){return new(e||t)},imports:[[i.b,L,x.a]]}),t})()}}]);